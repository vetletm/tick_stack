# Telegraf Configuration
#
# THIS FILE IS MANAGED BY PUPPET
#
<% if @global_tags -%>
[global_tags]
<%   @global_tags.each do |key, value| -%>
  <%= key %> = "<%= value %>"
<%   end -%>
<% end -%>

<% if @agent -%>
[agent]
<%   @agent.each do |key, value| -%>
  <%= key %> = "<%= value %>"
<%   end -%>
<% end -%>

<% if @outputs -%>
# OUTPUTS
<% @outputs.each do |key,hash| -%>
[[outputs.<%= key %>]]
<% hash.each do |key,value| -%>
<%= key %> = <%= value %>
<%   end -%>
<%  end -%>
<% end -%>

<% if @inputs -%>
# INPUTS
<% @inputs.each do |key,hash| -%>
[[inputs.<%= key %>]]
<% hash.each do |key,value| -%>
<%= key %> = <%= value %>
<%   end -%>

<%  end -%>
<% end -%>
